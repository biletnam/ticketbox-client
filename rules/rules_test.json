{
  "root": {
    "events": {
      "e1": {
        "name": "Event 1"
      }
    },
    "blocks": {
      "b1": {
        "name": "Block 1"
      }
    },
    "categories": {
      "c1": {
        "name": "Category 1"
      }
    },
    "seats": {
      "s1": {
        "name": "Seat One",
        "blockId": "b1",
        "categoryId": "c1",
        "reservation": {
          "timestamp": 1234567890,
          "uid": "uid1",
          "kind": "lock"
        }
      },
      "s2": {
        "name": "Seat Two",
        "blockId": "b1",
        "categoryId": "c1"
      },
      "s3": {
        "name": "Seat Three",
        "blockId": "b1",
        "categoryId": "c1",
        "x0": 0,
        "y0": 1,
        "x1": 2,
        "y1": 3,
        "x2": 4,
        "y2": 5,
        "x3": 6,
        "y3": 7,
        "reservation": {
          "timestamp": 1234567890,
          "uid": "uid2",
          "kind": "reservation"
        }
      }
    },
    "orders": {
      "o1": {
        "uid": "uid2",
        "firstname": "John",
        "lastname": "Doe",
        "email": "john.doe@example.com",
        "seats": {
          "os1": {
            "eventId": "e1",
            "seatId": "s3",
            "priceKind": "reduced"
          }
        }
      }
    },
    "users": {
      "admin": {
        "name": "admin",
        "email": "admin@example.com",
        "kind": "admin"
      },
      "boxoffice": {
        "name": "boxoffice",
        "email": "boxoffice@example.com",
        "kind": "boxoffice"
      }
    }
  },

  "users": {
    "anonymous1": { "uid": "uid1", "provider": "anonymous" },
    "anonymous2": { "uid": "uid2", "provider": "anonymous" },
    "admin": { "uid": "admin", "provider": "password" },
    "boxoffice": { "uid": "boxoffice", "provider": "password" }
  },

  "tests": {
    "events": {
      "canRead": [ "anonymous1", "anonymous2", "admin", "boxoffice" ],
      "canWrite": [ {"auth": "admin", "data": { "name": "Event Name" } } ],
      "cannotWrite": [
        { "auth": "boxoffice", "data": { "name": "Event Name" } },
        { "auth": "anonymous1", "data": { "name": "Event Name" } },
        { "auth": "anonymous2", "data": { "name": "Event Name" } }
      ]
    },
    "events/e1": {
      "canRead": [ "anonymous1", "anonymous2", "admin", "boxoffice" ],
      "canWrite": [ {"auth": "admin", "data": { "name": "Event Name" } } ],
      "cannotWrite": [
        { "auth": "boxoffice", "data": { "name": "Event Name" } },
        { "auth": "anonymous1", "data": { "name": "Event Name" } },
        { "auth": "anonymous2", "data": { "name": "Event Name" } },
        { "auth": "admin", "data": { "name": "" } }
      ]
    },
    "blocks": {
      "canRead": [ "anonymous1", "anonymous2", "admin", "boxoffice" ],
      "canWrite": [
        {"auth": "admin", "data": { "name": "Block Name", "seatplan": "seatplan-image-data" } },
        {"auth": "admin", "data": { "name": "Block Name" } }
      ],
      "cannotWrite": [
        { "auth": "boxoffice", "data": { "name": "Block Name" } },
        { "auth": "anonymous1", "data": { "name": "Block Name" } },
        { "auth": "anonymous2", "data": { "name": "Block Name" } }
      ]
    },
    "blocks/b1": {
      "canRead": [ "anonymous1", "anonymous2", "admin", "boxoffice" ],
      "canWrite": [
        {"auth": "admin", "data": { "name": "Block Name", "seatplan": "seatplan-image-data" } },
        {"auth": "admin", "data": { "name": "Block Name" } }
      ],
      "cannotWrite": [
        { "auth": "boxoffice", "data": { "name": "Block Name" } },
        { "auth": "anonymous1", "data": { "name": "Block Name" } },
        { "auth": "anonymous2", "data": { "name": "Block Name" } },
        { "auth": "admin", "data": { "name": "" } }
      ]
    },
    "categories": {
      "canRead": [ "anonymous1", "anonymous2", "admin", "boxoffice" ],
      "canWrite": [ {"auth": "admin", "data": { "name": "Category Name", "price": 1, "reducedPrice": 2 } } ],
      "cannotWrite": [
        { "auth": "boxoffice", "data": { "name": "Category Name" } },
        { "auth": "anonymous1", "data": { "name": "Category Name" } },
        { "auth": "anonymous2", "data": { "name": "Category Name" } }
      ]
    },
    "categories/c1": {
      "canRead": [ "anonymous1", "anonymous2", "admin", "boxoffice" ],
      "canWrite": [ {"auth": "admin", "data": { "name": "Category Name", "price": 1, "reducedPrice": 2 } } ],
      "cannotWrite": [
        { "auth": "boxoffice", "data": { "name": "Category Name" } },
        { "auth": "anonymous1", "data": { "name": "Category Name" } },
        { "auth": "anonymous2", "data": { "name": "Category Name" } },
        { "auth": "admin", "data": { "name": "" } },
        { "auth": "admin", "data": { "name": "Category Name", "price": "a", "reducedPrice": 2 } }
      ]
    },
    "seats": {
      "canRead": [ "anonymous1", "anonymous2", "admin", "boxoffice" ],
      "canWrite": [
        {"auth": "admin", "data": { "blockId": "b1", "name": "Seat Name" } },
        {"auth": "admin", "data": { "blockId": "b1", "name": "Seat Name", "x0": 0, "y0": 1, "x1": 2, "y1": 3, "x2": 4, "y2": 5, "x3": 6, "y3": 7 } }
      ],
      "cannotWrite": [
        { "auth": "boxoffice", "data": { "blockId": "b1", "name": "Seat Name" } },
        { "auth": "anonymous1", "data": { "blockId": "b1", "name": "Seat Name" } },
        { "auth": "anonymous2", "data": { "blockId": "b1", "name": "Seat Name" } }
      ]
    },
    "seats/s1": {
      "canRead": [ "anonymous1", "anonymous2", "admin", "boxoffice" ],
      "canWrite": [
        {"auth": "admin", "data": { "blockId": "b1", "name": "Seat Name" } },
        {"auth": "admin", "data": { "blockId": "b1", "name": "Seat Name", "x0": 0, "y0": 1, "x1": 2, "y1": 3, "x2": 4, "y2": 5, "x3": 6, "y3": 7 } }
      ],
      "cannotWrite": [
        { "auth": "boxoffice", "data": { "blockId": "b1", "name": "Seat Name" } },
        { "auth": "anonymous1", "data": { "blockId": "b1", "name": "Seat Name" } },
        { "auth": "anonymous2", "data": { "blockId": "b1", "name": "Seat Name" } },
        { "auth": "admin", "data": { "blockId": "b1", "name": "" } },
        { "auth": "admin", "data": { "blockId": "doesNotExist", "name": "Seat Name"} },
        { "auth": "admin", "data": { "blockId": "b1", "name": "Seat Name", "x0": "a", "y0": 1, "x1": 2, "y1": 3, "x2": 4, "y2": 5, "x3": 6, "y3": 7 } }
      ]
    },
    "seats/s1/reservation/timestamp": {
      "canRead": [ "anonymous1", "anonymous2" ],
      "canWrite": [ { "auth": "anonymous1", "data": 123456 } ],
      "cannotWrite": [ { "auth": "anonymous2", "data": 123456 } ]
    },
    "seats/s2/reservation": {
      "canRead": [ "anonymous1", "anonymous2" ],
      "canWrite": [
        { "auth": "anonymous1", "data": { "timestamp": 123456, "uid": "uid1", "kind": "lock" } },
        { "auth": "anonymous2", "data": { "timestamp": 123456, "uid": "uid2", "kind": "lock" } } ]
    },
    "orders": {
      "cannotRead": [ "anonymous1", "anonymous2" ],
      "canWrite": [ { "auth": "anonymous2", "data": { "uid": "uid2", "firstname": "John", "lastname": "Doe", "email": "john.doe@example.com" } }  ],
      "cannotWrite": [
        { "auth": "anonymous1", "data": { "uid": "uid2", "firstname": "John", "lastname": "Doe", "email": "john.doe@example.com" } }
      ]
    },
    "orders/o1": {
      "canRead": [ "anonymous2" ],
      "cannotRead": [ "anonymous1" ],
      "canWrite": [ { "auth": "anonymous2", "data": { "uid": "uid2", "firstname": "John", "lastname": "Doe", "email": "john.doe@example.com" } } ],
      "cannotWrite": [
        { "auth": "anonymous1", "data": { "firstname": "John", "lastname": "Doe", "email": "john.doe@example.com" } },
        { "auth": "anonymous2", "data": { "firstname": "John", "lastname": "Doe", "email": "This is not a mail address" } }
      ]
    },
    "orders/o1/seats": {
      "canRead": [ "anonymous2" ],
      "cannotRead": [ "anonymous1" ],
      "canWrite": [ { "auth": "anonymous2", "data": { "os1": { "eventId": "e1", "seatId": "s3", "priceKind": "reduced" } } } ],
      "cannotWrite": [
        { "auth": "anonymous2", "data": { "os1": { "eventId": "e1", "seatId": "s1", "priceKind": "reduced" } } },
        { "auth": "anonymous2", "data": { "os1": { "eventId": "e1", "seatId": "s2", "priceKind": "normal" } } },
        { "auth": "anonymous2", "data": { "os1": { "eventId": "e1", "seatId": "s3", "priceKind": "not in allowed values" } } }
      ]
    },
    "users/admin": {
      "canRead": [ "admin" ],
      "canWrite": [ { "auth": "admin", "data": { "name": "NewName", "email": "new@example.com" } } ],
      "cannotWrite": [
        { "auth": "admin", "data": { "name": "NewName", "email": "new_example.com" } },
        { "auth": "boxoffice", "data": { "name": "NewName", "email": "new@example.com" } },
        { "auth": "anonymous1", "data": { "name": "NewName", "email": "new@example.com" } },
        { "auth": "anonymous2", "data": { "name": "NewName", "email": "new@example.com" } }
      ]
    },
    "users/boxoffice": {
      "canRead": [ "admin", "boxoffice" ],
      "canWrite": [
        { "auth": "admin", "data": { "name": "NewName", "email": "new@example.com" } },
        { "auth": "admin", "data": { "kind": "admin" } },
        { "auth": "boxoffice", "data": { "name": "NewName", "email": "new@example.com" } }
      ],
      "cannotWrite": [
        { "auth": "boxoffice", "data": { "kind": "admin" } },
        { "auth": "boxoffice", "data": { "name": "NewName", "email": "new_example.com" } },
        { "auth": "anonymous1", "data": { "name": "NewName", "email": "new@example.com" } },
        { "auth": "anonymous2", "data": { "name": "NewName", "email": "new@example.com" } }
      ]
    }
  }
}